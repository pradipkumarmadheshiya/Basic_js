<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOF2</title>
</head>
<body>
    <script>
        let subjectsHash = {
            1: "Javascript",
            2: "HTML",
            3: "CSS",
            4: "Java",
            5: "Rust",
        };

        let students = [
            { id: 1, name: "Prateek", subjectID: 5 },
            { id: 2, name: "Yogesh", subjectID: 2 },
            { id: 3, name: "Nrupul", subjectID: 4 },
            { id: 4, name: "Prateek", subjectID: 1 },
        ];

        const newObj=students.reduce((acc,cur)=>{
            if (acc[cur.name]){
                acc[cur.name].push(subjectsHash[cur.subjectID])
            }
            else{
                acc[cur.name]=[subjectsHash[cur.subjectID]]
            }
            return acc
        },{})
        console.log(newObj)

        //////////////////////////
        let prateekMarksData = {
        name: "Prateek",
        subject1: "Javascript",
        subject2: "HTML",
        subject3: "CSS",
        subject4: null,
        subject5: null,
        marks1: 90,
        marks2: 81,
        marks3: 80,
        marks4: null,
        marks5: null,
        };

        let nrupulMarksData = {
        name: "Nrupul",
        subject1: "Java",
        subject2: "Python",
        subject3: null,
        subject4: null,
        subject5: null,
        marks1: 95,
        marks2: 85,
        marks3: null,
        marks4: null,
        marks5: null,
        };

        function formatStudentmarksData(studentsData){
            let marks=[]

            for (let i=1; i<=5; i++){
                const subject=studentsData[`subject${i}`]
                const score=studentsData[`marks${i}`]
                if (subject&&score!=null){
                    marks.push({subject,score})
                }
            }
            return {
                "name":studentsData.name,
                "marks":marks
            }
        }
        let allStudentData=[prateekMarksData,nrupulMarksData]
        const formattedMarksData=allStudentData.map(formatStudentmarksData)
        console.log(formattedMarksData)


        ///////////////////////////////////////
        const voters = [
        { name: "Bob", age: 30, voted: true },
        { name: "Jake", age: 32, voted: true },
        { name: "Kate", age: 25, voted: false },
        { name: "Sam", age: 20, voted: false },
        { name: "Phil", age: 21, voted: true },
        { name: "Ed", age: 55, voted: true },
        { name: "Tami", age: 54, voted: true },
        { name: "Mary", age: 31, voted: false },
        { name: "Becky", age: 43, voted: false },
        { name: "Joey", age: 41, voted: true },
        { name: "Jeff", age: 30, voted: true },
        { name: "Zack", age: 19, voted: false },
        ];
        function implementationArray(data){
            let numYoungVotes=0
            let numYoungPeople=0
            let numMidVotesPeople=0
            let numMidsPeople=0
            let numOldVotesPeople=0
            let numOldsPeople=0
            voters.forEach(value=>{
                if (value.age<=20 && value.voted===true){
                    numYoungVotes++
                }
                if (value.age<=20){
                    numYoungPeople++
                }
                if (value.age>20 && value.age<=45 && value.voted===true){
                    numMidVotesPeople++
                }
                if (value.age>20 && value.age<=45){
                    numMidsPeople++
                }
                if (value.age>45 && value.voted===true){
                    numOldVotesPeople++
                }
                if (value.age>45){
                    numOldsPeople++
                }
            })
            return {
                numYoungVotes,
                numYoungPeople,
                numMidVotesPeople,
                numMidsPeople,
                numOldVotesPeople,
                numOldsPeople
            }
        }
        console.log(implementationArray(voters))


        ////////////////////////////////
        const data = [
        {
            name: "Superman",
            favoriteIceCreams: [
            "Strawberry",
            "Vanilla",
            "Chocolate",
            "Cookies & Cream",
            ],
        },
        {
            name: "Batman",
            favoriteIceCreams: [
            "Cookies & Cream",
            "Mint Chocolate Chip",
            "Chocolate",
            "Vanilla",
            ],
        },
        {
            name: "Flash",
            favoriteIceCreams: ["Chocolate", "Rocky Road", "Pistachio", "Banana"],
        },
        {
            name: "Aquaman",
            favoriteIceCreams: ["Vanilla", "Chocolate", "Mint Chocolate Chip"],
        },
        {
            name: "Green Lantern",
            favoriteIceCreams: [
            "Vanilla",
            "French Vanilla",
            "Vanilla Bean",
            "Strawberry",
            ],
        },
        {
            name: "Robin",
            favoriteIceCreams: ["Strawberry", "Chocolate", "Mint Chocolate Chip"],
        },
        ];
        let countLikedIce={}
        data.forEach(val=>{
            countLikedIce=val.favoriteIceCreams.reduce((acc,cur)=>{
                if (acc[cur]){
                    acc[cur]++
                }
                else{
                    acc[cur]=1
                }
                return acc
            },countLikedIce)
        })
        console.log(countLikedIce)
    </script>
</body>
</html>