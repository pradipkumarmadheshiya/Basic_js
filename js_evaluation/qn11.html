<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Multilevel Destructuring
        const company = {
        name: "Tech Solutions Inc.",
        departments: {
            engineering: {
            manager: {
                name: "John Doe",
                age: 35,
                position: "Engineering Manager",
                salary: 100000,
            },
            employees: [
                { name: "Alice", age: 28, position: "Software Engineer", salary: 80000 },
                { name: "Bob", age: 30, position: "Senior Software Engineer", salary: 90000 },
            ],
            },
            sales: {
            manager: {
                name: "Jane Smith",
                age: 40,
                position: "Sales Manager",
                salary: 95000,
            },
            employees: [
                { name: "Charlie", age: 32, position: "Sales Representative", salary: 60000 },
                { name: "David", age: 29, position: "Sales Associate", salary: 50000 },
            ],
            },
            marketing: {
            manager: {
                name: "Emily Johnson",
                age: 37,
                position: "Marketing Manager",
                salary: 90000,
            },
            employees: [
                { name: "Eva", age: 31, position: "Marketing Specialist", salary: 70000 },
                { name: "Frank", age: 33, position: "Marketing Coordinator", salary: 65000 },
            ],
            },
        },
        };
        function extractManagerDetail(company){
            const {departments}=company
            const managers=Object.values(departments).map(({manager})=>{
                const {name, age, position, salary}=manager
                return {name, age, position, salary}
            })
            return managers
        }
        console.log(extractManagerDetail(company));

        function AverageSalary(company){
            const {departments}=company
            let totalSalary=0
            let employeesCount=0
            Object.values(departments).map(({manager, employees})=>{
                employeesCount++
                totalSalary+=manager.salary

                employees.forEach(val=>{
                    totalSalary+=val.salary
                    employeesCount++
                })
                console.log(employeesCount)
            })
            let averageSal=totalSalary/employeesCount
            return averageSal.toFixed(2)
        }
        console.log(AverageSalary(company))

        function highestPaidEmployee(company){
            const {departments}=company
            let highPaidEmp=0
            Object.values(departments).map(({manager, employees})=>{
                if (highPaidEmp<manager.salary){
                    highPaidEmp=manager.salary
                }

                employees.forEach(val=>{
                    if (highPaidEmp<val.salary){
                        highPaidEmp=val.salary
                    }
                })
            })
            return highPaidEmp
        }
        console.log(highestPaidEmployee(company))
    </script>
</body>
</html>